<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <script src="alpine-3.10.2.js" defer></script>

</head>

<body>

    <div class="container" x-data="{showCart:false
        ,smallQty:0,
        smallTotal:0,
        mediumQty: 0,
        mediumTotal: 0.00,
        largeQty: 0,
        largeTotal : 0,
        payNow : false,
        paymentAmount : 0,
        paymentMessage : '',
        buySmall(){
               this.smallTotal+=60.90;
               this.smallQty+=1
        },
        clearSmall(){
            if (this.smallQty > 0 ){
                this.smallTotal-=60.90;
                this.smallQty-=1
            }
               
        },
        buyMedium(){
            this.mediumTotal+=120.00;
            this.mediumQty+=1
        },
       clearMedium(){
           if (this.mediumQty > 0 ){
            this.mediumTotal-=120.90;
            this.mediumQty-=1
           }
            
        },
        buyLarge(){
            this.largeTotal+=199.90;
            this.largeQty+=1
        },
       clearLarge(){
           if (this.largeQty > 0){
            this.largeTotal-=199.90;
            this.largeQty-=1
           }
           
        },
        clearCart(){
        this.smallQty = 0;
        this.smallTotal = 0;
        this.mediumQty = 0;
        this.mediumTotal = 0.00;
        this.largeQty = 0;
        this.largeTotal = 0
        },
        makePayment() {
            
           if (!this.paymentAmount ){
            this.paymentMessage ='No Amount entered!'
           }
          else if (this.paymentAmount >= this.cartTotal()){
            this.paymentMessage ='Payment Succesful!'
            
            setTimeout(() => {
            this.clearCart()
            this.payNow = false;
           },3000);
        
           } else {
            this.paymentMessage ='Insuficient Fund!'

            setTimeout(() => {
                this.clearCart()
                this.payNow = false;
               },3000);
            }
           
        },
        cartTotal(){
            return this.smallTotal + this.mediumTotal + this.largeTotal;
        },
        totalQty(){
             return this.smallQty + this.mediumQty + this.largeQty;
        }
    
    }">

        <div class="header">
            <div class="f3 header" x-show="!showCart">

                <h1>Perfect Pizza</h1>
                <img src="Images/Small.png" alt="" width="40">
                <img src="Images/Medium.png" alt="" width="40">
                <img src="Images/Large.png" alt="" width="40">

                <small>Inpired by <a href="https://itumilla.github.io/pizza-pamphlet/">perfect-pizza</a> </small>
            </div>
        </div>

        <div class="f1">

            <button x-on:click="showCart=!showCart"><img src="./Images/shopping-icon.png" width="30" alt="">Show
                cart</button>
            
        </div>
        <div class="container" x-show="showCart">
            <div class="header">

            </div>

            <div class="cart-box">
                <div class="cart" >
                </div>
                <button x-on:click="showCart=false"><img src="./Images/shopping-icon.png" width="30" alt="">close cart
                </button>
            </div>  
            <table>
            
                <tr x-show="smallQty >0">
                    <td> small_Pizza</td>
                    <td><button x-on:click="smallQty++"> +</button>
                        <button x-on:click="smallQty--"> -</button>
                    </td>
                    <td>R <span x-text="(60.90*smallQty).toFixed(2)"></span></td>
                </tr>
                <tr x-show="mediumQty >0">
                    <td> medium_Pizza</td>
                    <td><button x-on:click="mediumQty++"> +</button>
                        <button x-on:click="mediumQty--"> -</button>
                    </td>
                    <td>R <span x-text="(120.90*mediumQty).toFixed(2)"></span></td>
                </tr>
                <tr x-show="largeQty >0">
                    <td> large_Pizza</td>
                    <td><button x-on:click="largeQty++"> +</button>
                        <button x-on:click="largeQty--"> -</button>
                    </td>
                    <td>R <span x-text="(199.90*largeQty).toFixed(2)"></span></td>
                </tr>
                <tr x-show="totalQty >0">
                    <td colspan="2"> Total price</td>
                    <td>R <span x-text="((60.90*smallQty)+(120.90*mediumQty)+(199.90*largeQty)).toFixed(2)"></span></td>
                </tr>
                <tr x-show="cartTotal()>0">
                    <td colspan="2">
                        <div x-show="payNow">
                            <div class="message" x-text="paymentMessage"> message....</div>
                            <div>
                                <label for="">Payment Amount</label>
                                <input class="input" type="number" placeholder="Payment Amount" x-model="paymentAmount"
                                    width=" 50">
                                <button x-on:click="makePayment()" class="btn">
                                    <img src="./Images/shopping-icon.png" width="20" alt="">
                                    Pay Now</button>
                            </div>


                        </div>

                    </td>
                    <td>
                        <button x-show="!payNow" x-on:click="payNow =true" x-show class="btn">
                            <img src="./Images/shopping-icon.png" width="20" alt="">
                            Pay</button>
                    </td>
                </tr>

            </table>

            </div>

        <div class="pizzas">

            <div class="small_pizza">
                <h2>Small pizza</h2>
                <img src="Images/Small.png" width="100">
                <div>
                    <h3>R 69.90</h3>
                    <button class="buybtn" x-on:click="buySmall()">
                        <img src="Images/Large.png" width="20" alt="">Buy</button>
                    <div>Small Pizza with 3 toppings. 1 meat topping. 3 or less other toppings.</div>
                </div>
            </div>

            <div class="medium_pizza">
                <h2>Medium pizza</h2>
                <img src="Images/Medium.png" width="150">
                <div>
                    <h3>R 120.90</h3>
                </div>
                <button class="buybtn" x-on:click="buyMedium()">
                    <img src="Images/Medium.png" width="20" alt="">Buy</button>
                <div>Medium margeritha pizza with 3 toppings max. 2 or less meat topping. 3 or less other toppings.
                </div>
            </div>

            <div class="large_pizza">
                <h2>Large Pizza</h2>
                <img src="Images/Large.png" width="200">
                <div>
                    <h3>R 199.90</h3>
                    <button class="buybtn" x-on:click="buyLarge">
                        <img src="Images/Large.png" width="20" alt="">Buy</button>
                    <div>Large margeritha pizza with 3 toppings max. 3 meat toppings max. 3 or less other toppings.
                    </div>
                </div>
            </div>
        </div>


        <div class="footer">
            <div class="contact_us">
                <h1>Contact Details</h1>
                Contact us at: (021)-541-1000 twitter
                /fb
                /insta
                @perfectpizza
                <div>
                    Address :
                    6 Cecil street
                    Meredale
                    20001
                </div>
            </div>
        </div>
    </div>

</body>

</html>